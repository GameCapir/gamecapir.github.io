<!DOCTYPE html>
<html lang="en">

<head>
    <title>Capir</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Play Capir, an exciting and addictive mobile game! Download now on Google Play.">
    <meta http-equiv="Cache-Control" content="max-age=86400">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
    <link rel="stylesheet" href="./style.css" />

    <!-- Open Graph Meta Tags (for social sharing) -->
    <meta property="og:title" content="Capir - A Fun Mobile Game">
    <meta property="og:description" content="Play Capir, an exciting and addictive mobile game! Download now.">
    <meta property="og:image" content="https://gamecapir.github.io/images/feature-graphic-01.jpg">
    <meta property="og:url" content="https://play.google.com/store/apps/details?id=com.codi.capir">
    <meta property="og:type" content="website">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Capir - A Fun Mobile Game">
    <meta name="twitter:description" content="Play Capir, an exciting and addictive mobile game! Download now.">
    <meta name="twitter:image" content="https://gamecapir.github.io/images/feature-graphic-01.jpg">

    <script>
        const images = []
        const cycleTime = 5000;
        function cycleHeader() {
            const currentImg = document.getElementById("feature");
            const backImg = document.getElementById("feature-back");
            let newImageIndex = 0;
            function transitionFeatureImage() {
                currentImg.style.transition = "none";
                currentImg.style.opacity = "0";
                backImg.src = currentImg.src;
                setTimeout(() => {
                    newImageIndex = (newImageIndex + 1) % images.length;
                    currentImg.src = images[newImageIndex].src;
                    currentImg.style.transition = `opacity ${cycleTime}ms linear`;
                    currentImg.style.opacity = "1";
                }, 0)
            }
            currentImg.ontransitionend = transitionFeatureImage
            transitionFeatureImage()
        }

        function preloadImages(onAllLoaded) {
            let loadedCount = 0;

            const imageUrls = [
                "./images/feature-graphic-01.jpg",
                "./images/feature-graphic-02.jpg",
                "./images/feature-graphic-03.jpg",
                "./images/feature-graphic-04.jpg",
                "./images/feature-graphic-05.jpg"
            ];

            imageUrls.forEach((url, index) => {
                const img = new Image();
                img.src = url;

                img.onload = () => {
                    loadedCount++;
                    if (loadedCount === imageUrls.length) {
                        cycleHeader();
                    }
                };

                img.onerror = () => {
                    console.error(`Failed to load image: ${url}`);
                };

                images[index] = img; // Store image reference
            });
        }

        preloadImages()

    </script>
</head>

<body class="container">
    <header>
        <nav>
            <a href="./index.html"><b>Home</b></a>
            <a href="./contact.html">Contact</a>
            <a href="./privacy.html">Privacy</a>
        </nav>
    </header>

    <main>
        <div id="feature-container" class="image-stack">
            <img id="feature-back" src="">
            <img id="feature" class="fade-image" src="./images/feature-graphic-01.jpg">
        </div>
        <div class="download-link">
            <a role="button" href="https://play.google.com/store/apps/details?id=com.codi.capir"
                target="_blank">Download on
                Google Play</a>
        </div>
        <h1 class="subtitle">About the game</h1>
        <p><b>Capir</b> is a puzzle game where you rotate groups of pieces to match a solution.</p>
        <p>To rotate the pieces, press on the first one, drag, and release on the last in line.</p>
        <video class="animation" loop autoplay muted>
            <source src="./images/interaction-animation.mp4" type="video/mp4">
            Video not supported.
        </video>
        <br />
        <p><b>Capir</b> has two game modes: <b>Challenge Mode</b> and <b>Free Mode</b>.</p>
        <section>
            <h2 class="subtitle"><img class="icon" src="./images/level_icon_easy.png" />Challenge Mode</h2>
            <p><b>Challenge Mode</b> puzzles are designed to increase in difficulty as you advance.</p>
            <p>The puzzles can be solved in 3, 4, or 5 moves, depending on the difficulty level.</p>
            <div class="blue-box">
                3<img class="icon" src="./images/level_icon_easy.png" />
                4<img class="icon" src="./images/level_icon_medium.png" />
                5<img class="icon" src="./images/level_icon_hard.png" />
            </div>
            <p>Pieces in <b>Challenge Mode</b> have dots that hint how many times they should be rotated.</p>
            <img class="animation" src="./images/challenge-dots-animation.webp" />
        </section>
        <section>
            <h2 class="subtitle"><img class="icon" src="./images/icon_mode_free.png" />Free Mode</h2>
            <p>In <b>Free Mode</b>, each puzzle is randomly created. The goal is to solve the puzzle using the least
                number of moves.</p>
            <p>The best scores are recorded on a global leaderboard. Can you beat them?</p>
            <img class="animation" src="./images/free-animation.webp" />
        </section>
        <section>
            <h2 class="subtitle">Game screen</h2>
            <div class="center-grid">
                <div>
                    <h3>Challenge Mode</h3>
                    <img src="./images/game-screen-header-challenge.png">
                    <ul class="image-list">
                        <li>a: Current / max. moves</li>
                        <li>b: Current puzzle</li>
                        <li>c: Show the solution</li>
                        <li>d: Shape to match</li>
                    </ul>
                </div>
                <div>
                    <h3>Free Mode</h3>
                    <img src="./images/game-screen-header-free.png">
                    <ul class="image-list">
                        <li>a: Current / max. moves (not completed)</li>
                        <li>b: Current puzzle</li>
                        <li>d: The shape to match</li>
                    </ul>
                </div>
                <div>
                    <h3>Navigation</h3>
                    <img src="./images/game-screen-footer.png">
                    <ul class="image-list">
                        <li>e: Go to start screen</li>
                        <li>f: Go to setup screen</li>
                        <li>g: Next puzzle</li>
                        <li>h: Previous puzzle</li>
                        <li>i: Restart puzzle</li>
                    </ul>
                </div>
            </div>
        </section>
        <section>
            <h2 class="subtitle">Setup screen</h2>
            <div class="grid center-grid">
                <div>
                    <h3>Challenge Mode</h3>
                    <img src="./images/setup-screen-challenge.png">
                </div>
                <ul class="image-list">
                    <li>a: Moves on the selected puzzle</li>
                    <li>b: Selected puzzle number (easy)</li>
                    <li>c: Selected puzzle</li>
                    <li>d: Completed puzzle</li>
                    <li>e: Not completed puzzle</li>
                    <li>f: Locked puzzle</li>
                    <li>g: Go to game screen</li>
                    <li>h: Go to progress screen (unlocked)</li>
                </ul>
            </div>
            <br>
            <div class="grid center-grid">
                <div>
                    <h3>Free Mode</h3>
                    <img src="./images/setup-screen-free.png">
                </div>
                <ul class="image-list">
                    <li>a: Moves on the selected puzzle</li>
                    <li>b: Selected puzzle number (edit unlocked)</li>
                    <li>c: Leaderboard record (+handicap)</li>
                    <blockquote>The scores from the leaderboar have a handicap applied during the game, so it is easier
                        for everyone to complete the puzzles.
                    </blockquote>
                    <li>d: Daily puzzle (unlocked)</li>
                    <li>e: Random puzzle (unlocked)</li>
                    <li>f: Selected board</li>
                    <li>g: Completed board</li>
                    <li>h: Completed level</li>
                    <li>i: Selected level</li>
                    <li>j: Locked board</li>
                    <li>k: Go to game screen</li>
                    <li>l: Go to progress screen (unlocked)</li>
                </ul>
            </div>
        </section>
        <section>
            <h2 class="subtitle">Unlocks</h2>
            <p>Complete puzzles in the game to unlock multiple features:</p>
            <ul class="regular">
                <li>Finish the tutorial and you'll unlock <b>Challenge Mode</b>.</li>
                <li>In <b>Challenge Mode</b>, you must solve three puzzles in a row to unlock the next one.</li>
                <li><b>Free Mode</b> unlocks after you finish a number of challenge puzzles.</li>
                <li>As you solve <b>Free Mode</b> levels, new boards will unlock for you to choose.</li>
            </ul>
            <p>Other unlocks:</p>
            <div class="unlock-list">
                <img class="blue-box" src="./images/icon_stats.png" />
                <div>
                    <b>Progress screen:</b>
                    <p>Check your overall progress.</p>
                </div>
                <img src="./images/icon_calendar.png" />
                <div>
                    <b>Daily puzzle:</b>
                    <p>Every day there is a new <b>Free Mode</b> level. You can compete against your friends to
                        beat them.</p>
                </div>
                <img src="./images/icon_random.png" />
                <div>
                    <b>Random seed:</b>
                    <p>Discover new puzzles by playing a random <b>Free Mode</b> level.</p>
                </div>
                <img src="./images/icon_edit.png" />
                <div>
                    <b>Edit level:</b>
                    <p>Type in the level you want to beat. You can choose between 20 different boards and 9999 levels.
                    </p>
                </div>
            </div>
        </section>
        <div class="download-link">
            <a role="button" href="https://play.google.com/store/apps/details?id=com.codi.capir"
                target="_blank">Download on
                Google Play</a>
        </div>
    </main>

</body>

</html>